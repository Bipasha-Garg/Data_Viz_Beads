{"ast":null,"code":"const renderPoints = (index, innerRadius, outerRadius, anglesOrSectors) => {\n  const isProportional = viewMode === \"proportional\";\n  const sectors = isProportional && anglesOrSectors ? anglesOrSectors.length : anglesOrSectors || 1; // Fallback to 1 if undefined\n  const angles = isProportional && anglesOrSectors ? anglesOrSectors : Array(sectors).fill(2 * Math.PI / sectors);\n  let currentAngle = Math.PI / 2;\n  if (!pointsData[index] || !pointsData[index].points) {\n    console.warn(`No points data for index ${index}, skipping rendering`);\n    return;\n  }\n  pointsData[index].points.forEach((point, i) => {\n    const pointData = Object.entries(point).filter(([key]) => key !== \"Point_ID\");\n    const bitVector = pointData.map(([_, coord]) => coord >= 0 ? 1 : 0).join(\"\");\n    const bitVectorIndex = Math.min(parseInt(bitVector, 2), sectors - 1);\n    const startAngle = isProportional ? currentAngle + angles.slice(0, bitVectorIndex).reduce((a, b) => a + b, 0) : 2 * Math.PI * bitVectorIndex / sectors;\n    const angleWidth = isProportional ? angles[bitVectorIndex] : 2 * Math.PI / sectors;\n    const centerAngle = startAngle + angleWidth / 2;\n    const overlapRadius = innerRadius + 0.9 * (outerRadius - innerRadius) * (i % pointsData[index].points.length) / pointsData[index].points.length;\n    const x = overlapRadius * Math.cos(centerAngle);\n    const y = overlapRadius * Math.sin(centerAngle);\n    point.Point_ID.forEach(id => {\n      if (!pointPositions[id]) pointPositions[id] = [];\n      pointPositions[id].push({\n        x,\n        y,\n        point,\n        subspaceId: pointsData[index].key\n      });\n    });\n    g.append(\"circle\").attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 3).attr(\"fill\", \"black\").attr(\"stroke\", \"white\").attr(\"stroke-width\", 0.5).style(\"pointer-events\", \"visible\").on(\"mouseover\", event => {\n      const pointIds = point.Point_ID.join(\", \");\n      const associatedLabels = Object.entries(labelsData.labels || {}).filter(([_, pointList]) => point.Point_ID.some(id => pointList.includes(Number(id)))).map(([label]) => label);\n      const labelText = associatedLabels.length > 0 ? associatedLabels.join(\", \") : \"No Label\";\n      tooltip.style(\"visibility\", \"visible\").html(`Point_IDs: ${pointIds}<br>Coordinates: (${x.toFixed(2)}, ${y.toFixed(2)})<br>Subspace: ${pointsData[index].key}<br>Label: ${labelText}`);\n      setHoveredCoordinates({\n        ...point,\n        label: labelText\n      });\n    }).on(\"mousemove\", event => {\n      tooltip.style(\"top\", event.pageY + 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n    }).on(\"mouseout\", () => {\n      tooltip.style(\"visibility\", \"hidden\");\n      setHoveredCoordinates(null);\n    });\n  });\n};","map":{"version":3,"names":["renderPoints","index","innerRadius","outerRadius","anglesOrSectors","isProportional","viewMode","sectors","length","angles","Array","fill","Math","PI","currentAngle","pointsData","points","console","warn","forEach","point","i","pointData","Object","entries","filter","key","bitVector","map","_","coord","join","bitVectorIndex","min","parseInt","startAngle","slice","reduce","a","b","angleWidth","centerAngle","overlapRadius","x","cos","y","sin","Point_ID","id","pointPositions","push","subspaceId","g","append","attr","style","on","event","pointIds","associatedLabels","labelsData","labels","pointList","some","includes","Number","label","labelText","tooltip","html","toFixed","setHoveredCoordinates","pageY","pageX"],"sources":["/home/bipasha/Desktop/research/Data_Viz_Beads/Subspace/code/my-react-app/src/GraphBase.js"],"sourcesContent":["const renderPoints = (index, innerRadius, outerRadius, anglesOrSectors) => {\n    const isProportional = viewMode === \"proportional\";\n    const sectors = isProportional && anglesOrSectors ? anglesOrSectors.length : anglesOrSectors || 1; // Fallback to 1 if undefined\n    const angles = isProportional && anglesOrSectors ? anglesOrSectors : Array(sectors).fill(2 * Math.PI / sectors);\n    let currentAngle = Math.PI / 2;\n\n    if (!pointsData[index] || !pointsData[index].points) {\n        console.warn(`No points data for index ${index}, skipping rendering`);\n        return;\n    }\n\n    pointsData[index].points.forEach((point, i) => {\n        const pointData = Object.entries(point).filter(([key]) => key !== \"Point_ID\");\n        const bitVector = pointData.map(([_, coord]) => (coord >= 0 ? 1 : 0)).join(\"\");\n        const bitVectorIndex = Math.min(parseInt(bitVector, 2), sectors - 1);\n\n        const startAngle = isProportional\n            ? currentAngle + angles.slice(0, bitVectorIndex).reduce((a, b) => a + b, 0)\n            : (2 * Math.PI * bitVectorIndex) / sectors;\n        const angleWidth = isProportional ? angles[bitVectorIndex] : (2 * Math.PI / sectors);\n        const centerAngle = startAngle + angleWidth / 2;\n\n        const overlapRadius =\n            innerRadius +\n            (0.9 * (outerRadius - innerRadius) * (i % pointsData[index].points.length)) /\n            pointsData[index].points.length;\n        const x = overlapRadius * Math.cos(centerAngle);\n        const y = overlapRadius * Math.sin(centerAngle);\n\n        point.Point_ID.forEach((id) => {\n            if (!pointPositions[id]) pointPositions[id] = [];\n            pointPositions[id].push({ x, y, point, subspaceId: pointsData[index].key });\n        });\n\n        g.append(\"circle\")\n            .attr(\"cx\", x)\n            .attr(\"cy\", y)\n            .attr(\"r\", 3)\n            .attr(\"fill\", \"black\")\n            .attr(\"stroke\", \"white\")\n            .attr(\"stroke-width\", 0.5)\n            .style(\"pointer-events\", \"visible\")\n            .on(\"mouseover\", (event) => {\n                const pointIds = point.Point_ID.join(\", \");\n                const associatedLabels = Object.entries(labelsData.labels || {})\n                    .filter(([_, pointList]) => point.Point_ID.some((id) => pointList.includes(Number(id))))\n                    .map(([label]) => label);\n                const labelText = associatedLabels.length > 0 ? associatedLabels.join(\", \") : \"No Label\";\n\n                tooltip\n                    .style(\"visibility\", \"visible\")\n                    .html(\n                        `Point_IDs: ${pointIds}<br>Coordinates: (${x.toFixed(2)}, ${y.toFixed(2)})<br>Subspace: ${pointsData[index].key}<br>Label: ${labelText}`\n                    );\n                setHoveredCoordinates({ ...point, label: labelText });\n            })\n            .on(\"mousemove\", (event) => {\n                tooltip.style(\"top\", event.pageY + 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n            })\n            .on(\"mouseout\", () => {\n                tooltip.style(\"visibility\", \"hidden\");\n                setHoveredCoordinates(null);\n            });\n    });\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}