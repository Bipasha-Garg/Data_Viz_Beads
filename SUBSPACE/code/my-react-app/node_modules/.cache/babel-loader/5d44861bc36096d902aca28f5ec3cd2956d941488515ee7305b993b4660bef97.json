{"ast":null,"code":"var _jsxFileName = \"/home/bipasha/Desktop/research/Data_Viz_Beads/Subspace/code/my-react-app/src/ScatterPlot.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScatterPlotMatrix = ({\n  data\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  useEffect(() => {\n    if (!data || !data.points || !Array.isArray(data.points) || data.points.length === 0) return;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n\n    // Get all feature names\n    const features = Object.keys(data.points[0].features);\n    const n = features.length;\n    const size = 200; // Increased size for better visibility\n    const padding = 40; // Increased padding for labels\n    const totalSize = n * (size + padding);\n    svg.attr(\"width\", totalSize + padding).attr(\"height\", totalSize + padding);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10).domain([...new Set(data.points.map(d => d.actual_label))]);\n\n    // Create scales for each feature\n    const scales = features.map(feat => {\n      return d3.scaleLinear().domain(d3.extent(data.points, d => d.features[feat])).range([padding / 2, size - padding / 2]).nice(); // Rounds domain for nicer tick values\n    });\n\n    // Create the matrix\n    features.forEach((featX, i) => {\n      features.forEach((featY, j) => {\n        const g = svg.append(\"g\").attr(\"transform\", `translate(${i * (size + padding)}, ${j * (size + padding)})`);\n\n        // Add background rectangle for better contrast\n        g.append(\"rect\").attr(\"width\", size).attr(\"height\", size).attr(\"fill\", \"#f5f5f5\");\n\n        // Add axes with better formatting\n        const xAxis = d3.axisBottom(scales[i]).ticks(5).tickFormat(d3.format(\".2f\"));\n        const yAxis = d3.axisLeft(scales[j]).ticks(5).tickFormat(d3.format(\".2f\"));\n\n        // Bottom axis\n        g.append(\"g\").attr(\"transform\", `translate(0, ${size - padding / 2})`).call(xAxis).selectAll(\"text\").style(\"font-size\", \"10px\");\n\n        // Left axis\n        g.append(\"g\").attr(\"transform\", `translate(${padding / 2}, 0)`).call(yAxis).selectAll(\"text\").style(\"font-size\", \"10px\");\n\n        // Add feature labels\n        if (j === 0) {\n          g.append(\"text\").attr(\"x\", size / 2).attr(\"y\", -padding / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"12px\").text(featX);\n        }\n        if (i === 0) {\n          g.append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"x\", -size / 2).attr(\"y\", padding / 4).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"12px\").text(featY);\n        }\n\n        // Add points or diagonal text\n        if (i === j) {\n          g.append(\"text\").attr(\"x\", size / 2).attr(\"y\", size / 2).attr(\"text-anchor\", \"middle\").attr(\"dominant-baseline\", \"middle\").style(\"font-size\", \"14px\").style(\"font-style\", \"italic\").text(featX);\n        } else {\n          g.selectAll(\"circle\").data(data.points).enter().append(\"circle\").attr(\"cx\", d => scales[i](d.features[featX])).attr(\"cy\", d => scales[j](d.features[featY])).attr(\"r\", 4).attr(\"fill\", d => colorScale(d.actual_label)).attr(\"opacity\", 0.7).append(\"title\").text(d => `ID: ${d.Point_ID}\\nActual: ${d.actual_label}\\nPredicted: ${d.predicted_label}`);\n        }\n      });\n    });\n\n    // Add legend\n    const legend = svg.append(\"g\").attr(\"transform\", `translate(${totalSize - 120}, ${padding})`);\n    const uniqueLabels = [...new Set(data.points.map(d => d.actual_label))];\n    uniqueLabels.forEach((label, i) => {\n      const legendRow = legend.append(\"g\").attr(\"transform\", `translate(0, ${i * 20})`);\n      legendRow.append(\"rect\").attr(\"width\", 12).attr(\"height\", 12).attr(\"fill\", colorScale(label));\n      legendRow.append(\"text\").attr(\"x\", 18).attr(\"y\", 10).attr(\"fill\", \"black\").style(\"font-size\", \"12px\").text(label);\n    });\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100%\",\n      overflow: \"auto\",\n      padding: \"20px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 9\n  }, this);\n};\n_s(ScatterPlotMatrix, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = ScatterPlotMatrix;\nexport default ScatterPlotMatrix;\nvar _c;\n$RefreshReg$(_c, \"ScatterPlotMatrix\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","ScatterPlotMatrix","data","_s","svgRef","points","Array","isArray","length","svg","select","current","selectAll","remove","features","Object","keys","n","size","padding","totalSize","attr","colorScale","scaleOrdinal","schemeCategory10","domain","Set","map","d","actual_label","scales","feat","scaleLinear","extent","range","nice","forEach","featX","i","featY","j","g","append","xAxis","axisBottom","ticks","tickFormat","format","yAxis","axisLeft","call","style","text","enter","Point_ID","predicted_label","legend","uniqueLabels","label","legendRow","width","overflow","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/bipasha/Desktop/research/Data_Viz_Beads/Subspace/code/my-react-app/src/ScatterPlot.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nconst ScatterPlotMatrix = ({ data }) => {\n    const svgRef = useRef(null);\n\n    useEffect(() => {\n        if (!data || !data.points || !Array.isArray(data.points) || data.points.length === 0) return;\n\n        const svg = d3.select(svgRef.current);\n        svg.selectAll(\"*\").remove();\n\n        // Get all feature names\n        const features = Object.keys(data.points[0].features);\n        const n = features.length;\n\n        const size = 200; // Increased size for better visibility\n        const padding = 40; // Increased padding for labels\n        const totalSize = n * (size + padding);\n\n        svg.attr(\"width\", totalSize + padding)\n            .attr(\"height\", totalSize + padding);\n\n        const colorScale = d3\n            .scaleOrdinal(d3.schemeCategory10)\n            .domain([...new Set(data.points.map(d => d.actual_label))]);\n\n        // Create scales for each feature\n        const scales = features.map(feat => {\n            return d3.scaleLinear()\n                .domain(d3.extent(data.points, d => d.features[feat]))\n                .range([padding / 2, size - padding / 2])\n                .nice(); // Rounds domain for nicer tick values\n        });\n\n        // Create the matrix\n        features.forEach((featX, i) => {\n            features.forEach((featY, j) => {\n                const g = svg.append(\"g\")\n                    .attr(\"transform\", `translate(${i * (size + padding)}, ${j * (size + padding)})`);\n\n                // Add background rectangle for better contrast\n                g.append(\"rect\")\n                    .attr(\"width\", size)\n                    .attr(\"height\", size)\n                    .attr(\"fill\", \"#f5f5f5\");\n\n                // Add axes with better formatting\n                const xAxis = d3.axisBottom(scales[i])\n                    .ticks(5)\n                    .tickFormat(d3.format(\".2f\"));\n\n                const yAxis = d3.axisLeft(scales[j])\n                    .ticks(5)\n                    .tickFormat(d3.format(\".2f\"));\n\n                // Bottom axis\n                g.append(\"g\")\n                    .attr(\"transform\", `translate(0, ${size - padding / 2})`)\n                    .call(xAxis)\n                    .selectAll(\"text\")\n                    .style(\"font-size\", \"10px\");\n\n                // Left axis\n                g.append(\"g\")\n                    .attr(\"transform\", `translate(${padding / 2}, 0)`)\n                    .call(yAxis)\n                    .selectAll(\"text\")\n                    .style(\"font-size\", \"10px\");\n\n                // Add feature labels\n                if (j === 0) {\n                    g.append(\"text\")\n                        .attr(\"x\", size / 2)\n                        .attr(\"y\", -padding / 2)\n                        .attr(\"text-anchor\", \"middle\")\n                        .style(\"font-size\", \"12px\")\n                        .text(featX);\n                }\n                if (i === 0) {\n                    g.append(\"text\")\n                        .attr(\"transform\", \"rotate(-90)\")\n                        .attr(\"x\", -size / 2)\n                        .attr(\"y\", padding / 4)\n                        .attr(\"text-anchor\", \"middle\")\n                        .style(\"font-size\", \"12px\")\n                        .text(featY);\n                }\n\n                // Add points or diagonal text\n                if (i === j) {\n                    g.append(\"text\")\n                        .attr(\"x\", size / 2)\n                        .attr(\"y\", size / 2)\n                        .attr(\"text-anchor\", \"middle\")\n                        .attr(\"dominant-baseline\", \"middle\")\n                        .style(\"font-size\", \"14px\")\n                        .style(\"font-style\", \"italic\")\n                        .text(featX);\n                } else {\n                    g.selectAll(\"circle\")\n                        .data(data.points)\n                        .enter()\n                        .append(\"circle\")\n                        .attr(\"cx\", d => scales[i](d.features[featX]))\n                        .attr(\"cy\", d => scales[j](d.features[featY]))\n                        .attr(\"r\", 4)\n                        .attr(\"fill\", d => colorScale(d.actual_label))\n                        .attr(\"opacity\", 0.7)\n                        .append(\"title\")\n                        .text(d => `ID: ${d.Point_ID}\\nActual: ${d.actual_label}\\nPredicted: ${d.predicted_label}`);\n                }\n            });\n        });\n\n        // Add legend\n        const legend = svg.append(\"g\")\n            .attr(\"transform\", `translate(${totalSize - 120}, ${padding})`);\n\n        const uniqueLabels = [...new Set(data.points.map(d => d.actual_label))];\n        uniqueLabels.forEach((label, i) => {\n            const legendRow = legend.append(\"g\")\n                .attr(\"transform\", `translate(0, ${i * 20})`);\n\n            legendRow.append(\"rect\")\n                .attr(\"width\", 12)\n                .attr(\"height\", 12)\n                .attr(\"fill\", colorScale(label));\n\n            legendRow.append(\"text\")\n                .attr(\"x\", 18)\n                .attr(\"y\", 10)\n                .attr(\"fill\", \"black\")\n                .style(\"font-size\", \"12px\")\n                .text(label);\n        });\n\n    }, [data]);\n\n    return (\n        <div style={{ width: \"100%\", overflow: \"auto\", padding: \"20px\" }}>\n            <svg ref={svgRef}></svg>\n        </div>\n    );\n};\n\nexport default ScatterPlotMatrix;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}